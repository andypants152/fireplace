/**
 * Minified by jsDelivr using Terser v5.39.0.
 * Original file: /npm/twgl.js@4.22.0/dist/4.x/twgl-full.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
/*!
 * @license twgl.js 4.22.0 Copyright (c) 2015, Gregg Tavares All Rights Reserved.
 * Available via the MIT license.
 * see: http://github.com/greggman/twgl.js for details
 */
!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.twgl=r():e.twgl=r()}("undefined"!=typeof self?self:this,(function(){return function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s="./src/twgl-full.js")}({"./src/attributes.js":
/*!***************************!*\
  !*** ./src/attributes.js ***!
  \***************************/
/*! no static exports found */function(e,r,t){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r.__esModule=!0,r.createAttribsFromArrays=_,r.createBuffersFromArrays=function(e,r){var t={};Object.keys(r).forEach((function(n){t[n]=M(e,r[n],n)})),r.indices?(t.numElements=r.indices.length,t.elementType=o.getGLTypeForTypedArray(O(r.indices),"indices")):t.numElements=function(e){var r,t;for(t=0;t<j.length&&!((r=j[t])in e);++t);t===j.length&&(r=Object.keys(e)[0]);var n=e[r],o=E(n).length,a=T(n,r),i=o/a;if(o%a>0)throw new Error("numComponents ".concat(a," not correct for length ").concat(o));return i}(r);return t},r.createBufferFromArray=M,r.createBufferFromTypedArray=w,r.createBufferInfoFromArrays=function(e,r,t){var n=_(e,r),a=Object.assign({},t||{});a.attribs=Object.assign({},t?t.attribs:{},n);var i=r.indices;if(i){var u=O(i,"indices");a.indices=w(e,u,c),a.numElements=u.length,a.elementType=o.getGLTypeForTypedArray(u)}else a.numElements||(a.numElements=function(e,r){var t,n;for(n=0;n<j.length&&!((t=j[n])in r)&&!((t=g.attribPrefix+t)in r);++n);n===j.length&&(t=Object.keys(r)[0]);var o=r[t];e.bindBuffer(s,o.buffer);var a=e.getBufferParameter(s,l);e.bindBuffer(s,null);var i=(x=o.type,x===y||x===p?1:x===m||x===b?2:x===d||x===v||x===h?4:0),u=a/i,f=o.numComponents||o.size,c=u/f;var x;if(c%1!=0)throw new Error("numComponents ".concat(f," not correct for length ").concat(length));return c}(e,a.attribs));return a},r.setAttribInfoBufferFromArray=function(e,r,t,n){t=O(t),void 0!==n?(e.bindBuffer(s,r.buffer),e.bufferSubData(s,n,t)):x(e,s,r.buffer,t,r.drawType)},r.setAttributePrefix=function(e){g.attribPrefix=e},r.setAttributeDefaults_=function(e){a.copyExistingProperties(e,g)},r.getNumComponents_=T,r.getArray_=E;var o=u(t(/*! ./typedarrays.js */"./src/typedarrays.js")),a=u(t(/*! ./helper.js */"./src/helper.js"));function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function u(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=i();if(r&&r.has(e))return r.get(e);var t={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var u=o?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(t,a,u):t[a]=e[a]}return t.default=e,r&&r.set(e,t),t}var f=35044,s=34962,c=34963,l=34660,y=5120,p=5121,m=5122,b=5123,d=5124,v=5125,h=5126,g={attribPrefix:""};function x(e,r,t,n,o){e.bindBuffer(r,t),e.bufferData(r,n,o||f)}function w(e,r,t,n){if(a.isBuffer(e,r))return r;t=t||s;var o=e.createBuffer();return x(e,t,o,r,n),o}function A(e){return"indices"===e}function E(e){return e.length?e:e.data}var P=/coord|texture/i,F=/color|colour/i;function S(e,r){var t;if(r%(t=P.test(e)?2:F.test(e)?4:3)>0)throw new Error("Can not guess numComponents for attribute '".concat(e,"'. Tried ").concat(t," but ").concat(r," values is not evenly divisible by ").concat(t,". You should specify it."));return t}function T(e,r){return e.numComponents||e.size||S(r,E(e).length)}function O(e,r){if(o.isArrayBuffer(e))return e;if(o.isArrayBuffer(e.data))return e.data;Array.isArray(e)&&(e={data:e});var t=e.type;return t||(t=A(r)?Uint16Array:Float32Array),new t(e.data)}function _(e,r){var t={};return Object.keys(r).forEach((function(n){if(!A(n)){var a=r[n],i=a.attrib||a.name||a.attribName||g.attribPrefix+n;if(a.value){if(!Array.isArray(a.value)&&!o.isArrayBuffer(a.value))throw new Error("array.value is not array or typedarray");t[i]={value:a.value}}else{var u,c,l,y;if(a.buffer&&a.buffer instanceof WebGLBuffer)u=a.buffer,y=a.numComponents||a.size,c=a.type,l=a.normalize;else if("number"==typeof a||"number"==typeof a.data){var p=a.data||a,m=a.type||Float32Array,b=p*m.BYTES_PER_ELEMENT;c=o.getGLTypeForTypedArrayType(m),l=void 0!==a.normalize?a.normalize:(v=m)===Int8Array||v===Uint8Array,y=a.numComponents||a.size||S(n,p),u=e.createBuffer(),e.bindBuffer(s,u),e.bufferData(s,b,a.drawType||f)}else{var d=O(a,n);u=w(e,d,void 0,a.drawType),c=o.getGLTypeForTypedArray(d),l=void 0!==a.normalize?a.normalize:function(e){return e instanceof Int8Array||e instanceof Uint8Array}(d),y=T(a,n)}t[i]={buffer:u,numComponents:y,type:c,normalize:l,stride:a.stride||0,offset:a.offset||0,divisor:void 0===a.divisor?void 0:a.divisor,drawType:a.drawType}}}var v})),e.bindBuffer(s,null),t}var j=["position","positions","a_position"];function M(e,r,t){var n="indices"===t?c:s;return w(e,O(r,t),n)}},"./src/draw.js":
/*!*********************!*\
  !*** ./src/draw.js ***!
  \*********************/
/*! no static exports found */function(e,r,t){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r.__esModule=!0,r.drawBufferInfo=f,r.drawObjectList=function(e,r){var t=null,n=null;r.forEach((function(r){if(!1!==r.active){var a=r.programInfo,u=r.vertexArrayInfo||r.bufferInfo,s=!1,c=void 0===r.type?i:r.type;a!==t&&(t=a,e.useProgram(a.program),s=!0),(s||u!==n)&&(n&&n.vertexArrayObject&&!u.vertexArrayObject&&e.bindVertexArray(null),n=u,o.setBuffersAndAttributes(e,a,u)),o.setUniforms(a,r.uniforms),f(e,u,c,r.count,r.offset,r.instanceCount)}})),n&&n.vertexArrayObject&&e.bindVertexArray(null)};var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=a();if(r&&r.has(e))return r.get(e);var t={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(t,i,u):t[i]=e[i]}t.default=e,r&&r.set(e,t);return t}(t(/*! ./programs.js */"./src/programs.js"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}var i=4,u=5123;function f(e,r,t,n,o,a){t=void 0===t?i:t;var f=r.indices,s=r.elementType,c=void 0===n?r.numElements:n;o=void 0===o?0:o,s||f?void 0!==a?e.drawElementsInstanced(t,c,void 0===s?u:r.elementType,o,a):e.drawElements(t,c,void 0===s?u:r.elementType,o):void 0!==a?e.drawArraysInstanced(t,o,c,a):e.drawArrays(t,o,c)}},"./src/framebuffers.js":
/*!*****************************!*\
  !*** ./src/framebuffers.js ***!
  \*****************************/
/*! no static exports found */function(e,r,t){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r.__esModule=!0,r.bindFramebufferInfo=function(e,r,t){t=t||f,r?(e.bindFramebuffer(t,r.framebuffer),e.viewport(0,0,r.width,r.height)):(e.bindFramebuffer(t,null),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight))},r.createFramebufferInfo=function(e,r,t,n){var i=f,u=e.createFramebuffer();e.bindFramebuffer(i,u),t=t||e.drawingBufferWidth,n=n||e.drawingBufferHeight;var l=0,p={framebuffer:u,attachments:[],width:t,height:n};return(r=r||v).forEach((function(r){var u=r.attachment,f=r.samples,m=r.format,v=r.attachmentPoint||function(e,r){return h[e]||h[r]}(m,r.internalFormat);if(v||(v=y+l++),!u)if(void 0!==f||function(e){return g[e]}(m))u=e.createRenderbuffer(),e.bindRenderbuffer(s,u),f>1?e.renderbufferStorageMultisample(s,f,m,t,n):e.renderbufferStorage(s,m,t,n);else{var x=Object.assign({},r);x.width=t,x.height=n,void 0===x.auto&&(x.auto=!1,x.min=x.min||x.minMag||d,x.mag=x.mag||x.minMag||d,x.wrapS=x.wrapS||x.wrap||b,x.wrapT=x.wrapT||x.wrap||b),u=o.createTexture(e,x)}if(a.isRenderbuffer(e,u))e.framebufferRenderbuffer(i,v,s,u);else{if(!a.isTexture(e,u))throw new Error("unknown attachment type");void 0!==r.layer?e.framebufferTextureLayer(i,v,u,r.level||0,r.layer):e.framebufferTexture2D(i,v,r.target||c,u,r.level||0)}p.attachments.push(u)})),p},r.resizeFramebufferInfo=function(e,r,t,n,i){n=n||e.drawingBufferWidth,i=i||e.drawingBufferHeight,r.width=n,r.height=i,(t=t||v).forEach((function(t,u){var f=r.attachments[u],c=t.format,l=t.samples;if(void 0!==l||a.isRenderbuffer(e,f))e.bindRenderbuffer(s,f),l>1?e.renderbufferStorageMultisample(s,l,c,n,i):e.renderbufferStorage(s,c,n,i);else{if(!a.isTexture(e,f))throw new Error("unknown attachment type");o.resizeTexture(e,f,t,n,i)}}))};var o=u(t(/*! ./textures.js */"./src/textures.js")),a=u(t(/*! ./helper.js */"./src/helper.js"));function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function u(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=i();if(r&&r.has(e))return r.get(e);var t={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var u=o?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(t,a,u):t[a]=e[a]}return t.default=e,r&&r.set(e,t),t}var f=36160,s=36161,c=3553,l=34041,y=36064,p=36096,m=33306,b=33071,d=9729,v=[{format:6408,type:5121,min:d,wrap:b},{format:l}],h={};h[34041]=m,h[6401]=36128,h[36168]=36128,h[6402]=p,h[33189]=p,h[33190]=p,h[36012]=p,h[35056]=m,h[36013]=m;var g={};g[32854]=!0,g[32855]=!0,g[36194]=!0,g[34041]=!0,g[33189]=!0,g[6401]=!0,g[36168]=!0},"./src/helper.js":
/*!***********************!*\
  !*** ./src/helper.js ***!
  \***********************/
/*! no static exports found */function(e,r,t){"use strict";r.__esModule=!0,r.copyExistingProperties=function(e,r){Object.keys(r).forEach((function(t){r.hasOwnProperty(t)&&e.hasOwnProperty(t)&&(r[t]=e[t])}))},r.copyNamedProperties=function(e,r,t){e.forEach((function(e){var n=r[e];void 0!==n&&(t[e]=n)}))},r.error=function(){var e;(e=console).error.apply(e,arguments)},r.warn=function(){var e;(e=console).warn.apply(e,arguments)},r.isBuffer=function(e,r){return"undefined"!=typeof WebGLBuffer&&r instanceof WebGLBuffer},r.isRenderbuffer=function(e,r){return"undefined"!=typeof WebGLRenderbuffer&&r instanceof WebGLRenderbuffer},r.isShader=function(e,r){return"undefined"!=typeof WebGLShader&&r instanceof WebGLShader},r.isTexture=function(e,r){return"undefined"!=typeof WebGLTexture&&r instanceof WebGLTexture},r.isSampler=function(e,r){return"undefined"!=typeof WebGLSampler&&r instanceof WebGLSampler}},"./src/m4.js":
/*!*******************!*\
  !*** ./src/m4.js ***!
  \*******************/
/*! no static exports found */function(e,r,t){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r.__esModule=!0,r.axisRotate=function(e,r,t,n){n=n||new s(16);var o=r[0],a=r[1],i=r[2],u=Math.sqrt(o*o+a*a+i*i),f=(o/=u)*o,c=(a/=u)*a,l=(i/=u)*i,y=Math.cos(t),p=Math.sin(t),m=1-y,b=f+(1-f)*y,d=o*a*m+i*p,v=o*i*m-a*p,h=o*a*m-i*p,g=c+(1-c)*y,x=a*i*m+o*p,w=o*i*m+a*p,A=a*i*m-o*p,E=l+(1-l)*y,P=e[0],F=e[1],S=e[2],T=e[3],O=e[4],_=e[5],j=e[6],M=e[7],B=e[8],I=e[9],C=e[10],k=e[11];n[0]=b*P+d*O+v*B,n[1]=b*F+d*_+v*I,n[2]=b*S+d*j+v*C,n[3]=b*T+d*M+v*k,n[4]=h*P+g*O+x*B,n[5]=h*F+g*_+x*I,n[6]=h*S+g*j+x*C,n[7]=h*T+g*M+x*k,n[8]=w*P+A*O+E*B,n[9]=w*F+A*_+E*I,n[10]=w*S+A*j+E*C,n[11]=w*T+A*M+E*k,e!==n&&(n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]);return n},r.axisRotation=function(e,r,t){t=t||new s(16);var n=e[0],o=e[1],a=e[2],i=Math.sqrt(n*n+o*o+a*a),u=(n/=i)*n,f=(o/=i)*o,c=(a/=i)*a,l=Math.cos(r),y=Math.sin(r),p=1-l;return t[0]=u+(1-u)*l,t[1]=n*o*p+a*y,t[2]=n*a*p-o*y,t[3]=0,t[4]=n*o*p-a*y,t[5]=f+(1-f)*l,t[6]=o*a*p+n*y,t[7]=0,t[8]=n*a*p+o*y,t[9]=o*a*p-n*y,t[10]=c+(1-c)*l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.copy=c,r.frustum=function(e,r,t,n,o,a,i){i=i||new s(16);var u=r-e,f=n-t,c=o-a;return i[0]=2*o/u,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=2*o/f,i[6]=0,i[7]=0,i[8]=(e+r)/u,i[9]=(n+t)/f,i[10]=a/c,i[11]=-1,i[12]=0,i[13]=0,i[14]=o*a/c,i[15]=0,i},r.getAxis=function(e,r,t){t=t||o.create();var n=4*r;return t[0]=e[n+0],t[1]=e[n+1],t[2]=e[n+2],t},r.getTranslation=function(e,r){return(r=r||o.create())[0]=e[12],r[1]=e[13],r[2]=e[14],r},r.identity=l,r.inverse=y,r.lookAt=function(e,r,t,n){return n=n||new s(16),i=i||o.create(),u=u||o.create(),f=f||o.create(),o.normalize(o.subtract(e,r,f),f),o.normalize(o.cross(t,f,i),i),o.normalize(o.cross(f,i,u),u),n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=0,n[4]=u[0],n[5]=u[1],n[6]=u[2],n[7]=0,n[8]=f[0],n[9]=f[1],n[10]=f[2],n[11]=0,n[12]=e[0],n[13]=e[1],n[14]=e[2],n[15]=1,n},r.multiply=function(e,r,t){t=t||new s(16);var n=e[0],o=e[1],a=e[2],i=e[3],u=e[4],f=e[5],c=e[6],l=e[7],y=e[8],p=e[9],m=e[10],b=e[11],d=e[12],v=e[13],h=e[14],g=e[15],x=r[0],w=r[1],A=r[2],E=r[3],P=r[4],F=r[5],S=r[6],T=r[7],O=r[8],_=r[9],j=r[10],M=r[11],B=r[12],I=r[13],C=r[14],k=r[15];return t[0]=n*x+u*w+y*A+d*E,t[1]=o*x+f*w+p*A+v*E,t[2]=a*x+c*w+m*A+h*E,t[3]=i*x+l*w+b*A+g*E,t[4]=n*P+u*F+y*S+d*T,t[5]=o*P+f*F+p*S+v*T,t[6]=a*P+c*F+m*S+h*T,t[7]=i*P+l*F+b*S+g*T,t[8]=n*O+u*_+y*j+d*M,t[9]=o*O+f*_+p*j+v*M,t[10]=a*O+c*_+m*j+h*M,t[11]=i*O+l*_+b*j+g*M,t[12]=n*B+u*I+y*C+d*k,t[13]=o*B+f*I+p*C+v*k,t[14]=a*B+c*I+m*C+h*k,t[15]=i*B+l*I+b*C+g*k,t},r.negate=function(e,r){return(r=r||new s(16))[0]=-e[0],r[1]=-e[1],r[2]=-e[2],r[3]=-e[3],r[4]=-e[4],r[5]=-e[5],r[6]=-e[6],r[7]=-e[7],r[8]=-e[8],r[9]=-e[9],r[10]=-e[10],r[11]=-e[11],r[12]=-e[12],r[13]=-e[13],r[14]=-e[14],r[15]=-e[15],r},r.ortho=function(e,r,t,n,o,a,i){return(i=i||new s(16))[0]=2/(r-e),i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=2/(n-t),i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=2/(o-a),i[11]=0,i[12]=(r+e)/(e-r),i[13]=(n+t)/(t-n),i[14]=(a+o)/(o-a),i[15]=1,i},r.perspective=function(e,r,t,n,o){o=o||new s(16);var a=Math.tan(.5*Math.PI-.5*e),i=1/(t-n);return o[0]=a/r,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=a,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=(t+n)*i,o[11]=-1,o[12]=0,o[13]=0,o[14]=t*n*i*2,o[15]=0,o},r.rotateX=function(e,r,t){t=t||new s(16);var n=e[4],o=e[5],a=e[6],i=e[7],u=e[8],f=e[9],c=e[10],l=e[11],y=Math.cos(r),p=Math.sin(r);t[4]=y*n+p*u,t[5]=y*o+p*f,t[6]=y*a+p*c,t[7]=y*i+p*l,t[8]=y*u-p*n,t[9]=y*f-p*o,t[10]=y*c-p*a,t[11]=y*l-p*i,e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t},r.rotateY=function(e,r,t){t=t||new s(16);var n=e[0],o=e[1],a=e[2],i=e[3],u=e[8],f=e[9],c=e[10],l=e[11],y=Math.cos(r),p=Math.sin(r);t[0]=y*n-p*u,t[1]=y*o-p*f,t[2]=y*a-p*c,t[3]=y*i-p*l,t[8]=y*u+p*n,t[9]=y*f+p*o,t[10]=y*c+p*a,t[11]=y*l+p*i,e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t},r.rotateZ=function(e,r,t){t=t||new s(16);var n=e[0],o=e[1],a=e[2],i=e[3],u=e[4],f=e[5],c=e[6],l=e[7],y=Math.cos(r),p=Math.sin(r);t[0]=y*n+p*u,t[1]=y*o+p*f,t[2]=y*a+p*c,t[3]=y*i+p*l,t[4]=y*u-p*n,t[5]=y*f-p*o,t[6]=y*c-p*a,t[7]=y*l-p*i,e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t},r.rotationX=function(e,r){r=r||new s(16);var t=Math.cos(e),n=Math.sin(e);return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=t,r[6]=n,r[7]=0,r[8]=0,r[9]=-n,r[10]=t,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},r.rotationY=function(e,r){r=r||new s(16);var t=Math.cos(e),n=Math.sin(e);return r[0]=t,r[1]=0,r[2]=-n,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=n,r[9]=0,r[10]=t,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},r.rotationZ=function(e,r){r=r||new s(16);var t=Math.cos(e),n=Math.sin(e);return r[0]=t,r[1]=n,r[2]=0,r[3]=0,r[4]=-n,r[5]=t,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},r.scale=function(e,r,t){t=t||new s(16);var n=r[0],o=r[1],a=r[2];t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=n*e[3],t[4]=o*e[4],t[5]=o*e[5],t[6]=o*e[6],t[7]=o*e[7],t[8]=a*e[8],t[9]=a*e[9],t[10]=a*e[10],t[11]=a*e[11],e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t},r.scaling=function(e,r){return(r=r||new s(16))[0]=e[0],r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=e[1],r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=e[2],r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},r.setAxis=function(e,r,t,n){n!==e&&(n=c(e,n));var o=4*t;return n[o+0]=r[0],n[o+1]=r[1],n[o+2]=r[2],n},r.setDefaultType=function(e){var r=s;return s=e,r},r.setTranslation=function(e,r,t){t=t||l(),e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11]);return t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t},r.transformDirection=function(e,r,t){t=t||o.create();var n=r[0],a=r[1],i=r[2];return t[0]=n*e[0]+a*e[4]+i*e[8],t[1]=n*e[1]+a*e[5]+i*e[9],t[2]=n*e[2]+a*e[6]+i*e[10],t},r.transformNormal=function(e,r,t){t=t||o.create();var n=y(e),a=r[0],i=r[1],u=r[2];return t[0]=a*n[0]+i*n[1]+u*n[2],t[1]=a*n[4]+i*n[5]+u*n[6],t[2]=a*n[8]+i*n[9]+u*n[10],t},r.transformPoint=function(e,r,t){t=t||o.create();var n=r[0],a=r[1],i=r[2],u=n*e[3]+a*e[7]+i*e[11]+e[15];return t[0]=(n*e[0]+a*e[4]+i*e[8]+e[12])/u,t[1]=(n*e[1]+a*e[5]+i*e[9]+e[13])/u,t[2]=(n*e[2]+a*e[6]+i*e[10]+e[14])/u,t},r.translate=function(e,r,t){t=t||new s(16);var n=r[0],o=r[1],a=r[2],i=e[0],u=e[1],f=e[2],c=e[3],l=e[4],y=e[5],p=e[6],m=e[7],b=e[8],d=e[9],v=e[10],h=e[11],g=e[12],x=e[13],w=e[14],A=e[15];e!==t&&(t[0]=i,t[1]=u,t[2]=f,t[3]=c,t[4]=l,t[5]=y,t[6]=p,t[7]=m,t[8]=b,t[9]=d,t[10]=v,t[11]=h);return t[12]=i*n+l*o+b*a+g,t[13]=u*n+y*o+d*a+x,t[14]=f*n+p*o+v*a+w,t[15]=c*n+m*o+h*a+A,t},r.translation=function(e,r){return(r=r||new s(16))[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=e[0],r[13]=e[1],r[14]=e[2],r[15]=1,r},r.transpose=function(e,r){if((r=r||new s(16))===e){var t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,r}var n=e[0],o=e[1],a=e[2],i=e[3],u=e[4],f=e[5],c=e[6],l=e[7],y=e[8],p=e[9],m=e[10],b=e[11],d=e[12],v=e[13],h=e[14],g=e[15];return r[0]=n,r[1]=u,r[2]=y,r[3]=d,r[4]=o,r[5]=f,r[6]=p,r[7]=v,r[8]=a,r[9]=c,r[10]=m,r[11]=h,r[12]=i,r[13]=l,r[14]=b,r[15]=g,r};var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=a();if(r&&r.has(e))return r.get(e);var t={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(t,i,u):t[i]=e[i]}t.default=e,r&&r.set(e,t);return t}(t(/*! ./v3.js */"./src/v3.js"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}var i,u,f,s=Float32Array;function c(e,r){return(r=r||new s(16))[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],r}function l(e){return(e=e||new s(16))[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function y(e,r){r=r||new s(16);var t=e[0],n=e[1],o=e[2],a=e[3],i=e[4],u=e[5],f=e[6],c=e[7],l=e[8],y=e[9],p=e[10],m=e[11],b=e[12],d=e[13],v=e[14],h=e[15],g=p*h,x=v*m,w=f*h,A=v*c,E=f*m,P=p*c,F=o*h,S=v*a,T=o*m,O=p*a,_=o*c,j=f*a,M=l*d,B=b*y,I=i*d,C=b*u,k=i*y,z=l*u,R=t*d,D=b*n,U=t*y,L=l*n,W=t*u,V=i*n,G=g*u+A*y+E*d-(x*u+w*y+P*d),N=x*n+F*y+O*d-(g*n+S*y+T*d),X=w*n+S*u+_*d-(A*n+F*u+j*d),Y=P*n+T*u+j*y-(E*n+O*u+_*y),q=1/(t*G+i*N+l*X+b*Y);return r[0]=q*G,r[1]=q*N,r[2]=q*X,r[3]=q*Y,r[4]=q*(x*i+w*l+P*b-(g*i+A*l+E*b)),r[5]=q*(g*t+S*l+T*b-(x*t+F*l+O*b)),r[6]=q*(A*t+F*i+j*b-(w*t+S*i+_*b)),r[7]=q*(E*t+O*i+_*l-(P*t+T*i+j*l)),r[8]=q*(M*c+C*m+k*h-(B*c+I*m+z*h)),r[9]=q*(B*a+R*m+L*h-(M*a+D*m+U*h)),r[10]=q*(I*a+D*c+W*h-(C*a+R*c+V*h)),r[11]=q*(z*a+U*c+V*m-(k*a+L*c+W*m)),r[12]=q*(I*p+z*v+B*f-(k*v+M*f+C*p)),r[13]=q*(U*v+M*o+D*p-(R*p+L*v+B*o)),r[14]=q*(R*f+V*v+C*o-(W*v+I*o+D*f)),r[15]=q*(W*p+k*o+L*f-(U*f+V*p+z*o)),r}},"./src/primitives.js":
/*!***************************!*\
  !*** ./src/primitives.js ***!
  \***************************/
/*! no static exports found */function(e,r,t){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r.__esModule=!0,r.create3DFVertices=_,r.createAugmentedTypedArray=m,r.createCubeVertices=S,r.createPlaneVertices=E,r.createSphereVertices=P,r.createTruncatedConeVertices=T,r.createXYQuadVertices=A,r.createCrescentVertices=j,r.createCylinderVertices=M,r.createTorusVertices=B,r.createDiscVertices=I,r.deindexVertices=function(e){var r=e.indices,t={},n=r.length;return Object.keys(e).filter(b).forEach((function(o){for(var a=e[o],i=a.numComponents,u=m(i,n,a.constructor),f=0;f<n;++f)for(var s=r[f]*i,c=0;c<i;++c)u.push(a[s+c]);t[o]=u})),t},r.flattenNormals=function(e){if(e.indices)throw new Error("can not flatten normals of indexed vertices. deindex them first");for(var r=e.normal,t=r.length,n=0;n<t;n+=9){var o=r[n+0],a=r[n+1],i=r[n+2],u=r[n+3],f=r[n+4],s=r[n+5],c=o+u+r[n+6],l=a+f+r[n+7],y=i+s+r[n+8],p=Math.sqrt(c*c+l*l+y*y);c/=p,l/=p,y/=p,r[n+0]=c,r[n+1]=l,r[n+2]=y,r[n+3]=c,r[n+4]=l,r[n+5]=y,r[n+6]=c,r[n+7]=l,r[n+8]=y}return e},r.makeRandomVertexColors=function(e,r){r=r||{};var t=e.position.numElements,n=m(4,t,Uint8Array),o=r.rand||function(e,r){return r<3?(t=256,Math.random()*t|0):255;var t};if(e.color=n,e.indices)for(var a=0;a<t;++a)n.push(o(a,0),o(a,1),o(a,2),o(a,3));else for(var i=r.vertsPerColor||3,u=t/i,f=0;f<u;++f)for(var s=[o(f,0),o(f,1),o(f,2),o(f,3)],c=0;c<i;++c)n.push(s);return e},r.reorientDirections=h,r.reorientNormals=g,r.reorientPositions=x,r.reorientVertices=w,r.concatVertices=function(e){for(var r,t={},n=function(n){var o=e[n];Object.keys(o).forEach((function(e){t[e]||(t[e]=[]),r||"indices"===e||(r=e);var n=o[e],a=y(n,e),i=l(n).length/a;t[e].push(i)}))},o=0;o<e.length;++o)n(o);var a=t[r],i={};return Object.keys(t).forEach((function(r){var t=function(r){for(var t,n=0,o=0;o<e.length;++o){var a=e[o][r];n+=l(a).length,t&&!a.data||(t=a)}return{length:n,spec:t}}(r),n=D(t.spec,t.length);!function(r,t,n){for(var o=0,a=0,i=0;i<e.length;++i){var u=e[i][r],f=l(u);"indices"===r?(R(f,n,a,o),o+=t[i]):R(f,n,a),a+=f.length}}(r,a,l(n)),i[r]=n})),i},r.duplicateVertices=function(e){var r={};return Object.keys(e).forEach((function(t){var n=e[t],o=l(n),a=D(n,o.length);R(o,l(a),0),r[t]=a})),r},r.createDiscBuffers=r.createDiscBufferInfo=r.createTorusBuffers=r.createTorusBufferInfo=r.createCylinderBuffers=r.createCylinderBufferInfo=r.createCrescentBuffers=r.createCrescentBufferInfo=r.createCresentVertices=r.createCresentBuffers=r.createCresentBufferInfo=r.createXYQuadBuffers=r.createXYQuadBufferInfo=r.createTruncatedConeBuffers=r.createTruncatedConeBufferInfo=r.createSphereBuffers=r.createSphereBufferInfo=r.createPlaneBuffers=r.createPlaneBufferInfo=r.createCubeBuffers=r.createCubeBufferInfo=r.create3DFBuffers=r.create3DFBufferInfo=void 0;var o=c(t(/*! ./attributes.js */"./src/attributes.js")),a=c(t(/*! ./helper.js */"./src/helper.js")),i=c(t(/*! ./typedarrays.js */"./src/typedarrays.js")),u=c(t(/*! ./m4.js */"./src/m4.js")),f=c(t(/*! ./v3.js */"./src/v3.js"));function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function c(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=s();if(r&&r.has(e))return r.get(e);var t={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(t,a,i):t[a]=e[a]}return t.default=e,r&&r.set(e,t),t}var l=o.getArray_,y=o.getNumComponents_;function p(e,r){var t=0;return e.push=function(){for(var r=0;r<arguments.length;++r){var n=arguments[r];if(n instanceof Array||i.isArrayBuffer(n))for(var o=0;o<n.length;++o)e[t++]=n[o];else e[t++]=n}},e.reset=function(e){t=e||0},e.numComponents=r,Object.defineProperty(e,"numElements",{get:function(){return this.length/this.numComponents|0}}),e}function m(e,r,t){return p(new(t||Float32Array)(e*r),e)}function b(e){return"indices"!==e}function d(e,r,t){for(var n=e.length,o=new Float32Array(3),a=0;a<n;a+=3)t(r,[e[a],e[a+1],e[a+2]],o),e[a]=o[0],e[a+1]=o[1],e[a+2]=o[2]}function v(e,r,t){t=t||f.create();var n=r[0],o=r[1],a=r[2];return t[0]=n*e[0]+o*e[1]+a*e[2],t[1]=n*e[4]+o*e[5]+a*e[6],t[2]=n*e[8]+o*e[9]+a*e[10],t}function h(e,r){return d(e,r,u.transformDirection),e}function g(e,r){return d(e,u.inverse(r),v),e}function x(e,r){return d(e,r,u.transformPoint),e}function w(e,r){return Object.keys(e).forEach((function(t){var n=e[t];t.indexOf("pos")>=0?x(n,r):t.indexOf("tan")>=0||t.indexOf("binorm")>=0?h(n,r):t.indexOf("norm")>=0&&g(n,r)})),e}function A(e,r,t){return e=e||2,{position:{numComponents:2,data:[(r=r||0)+-1*(e*=.5),(t=t||0)+-1*e,r+1*e,t+-1*e,r+-1*e,t+1*e,r+1*e,t+1*e]},normal:[0,0,1,0,0,1,0,0,1,0,0,1],texcoord:[0,0,1,0,0,1,1,1],indices:[0,1,2,2,1,3]}}function E(e,r,t,n,o){e=e||1,r=r||1,t=t||1,n=n||1,o=o||u.identity();for(var a=(t+1)*(n+1),i=m(3,a),f=m(3,a),s=m(2,a),c=0;c<=n;c++)for(var l=0;l<=t;l++){var y=l/t,p=c/n;i.push(e*y-.5*e,0,r*p-.5*r),f.push(0,1,0),s.push(y,p)}for(var b=t+1,d=m(3,t*n*2,Uint16Array),v=0;v<n;v++)for(var h=0;h<t;h++)d.push((v+0)*b+h,(v+1)*b+h,(v+0)*b+h+1),d.push((v+1)*b+h,(v+1)*b+h+1,(v+0)*b+h+1);return w({position:i,normal:f,texcoord:s,indices:d},o)}function P(e,r,t,n,o,a,i){if(r<=0||t<=0)throw new Error("subdivisionAxis and subdivisionHeight must be > 0");n=n||0,a=a||0;for(var u=(o=o||Math.PI)-n,f=(i=i||2*Math.PI)-a,s=(r+1)*(t+1),c=m(3,s),l=m(3,s),y=m(2,s),p=0;p<=t;p++)for(var b=0;b<=r;b++){var d=b/r,v=p/t,h=f*d+a,g=u*v+n,x=Math.sin(h),w=Math.cos(h),A=Math.sin(g),E=w*A,P=Math.cos(g),F=x*A;c.push(e*E,e*P,e*F),l.push(E,P,F),y.push(1-d,v)}for(var S=r+1,T=m(3,r*t*2,Uint16Array),O=0;O<r;O++)for(var _=0;_<t;_++)T.push((_+0)*S+O,(_+0)*S+O+1,(_+1)*S+O),T.push((_+1)*S+O,(_+0)*S+O+1,(_+1)*S+O+1);return{position:c,normal:l,texcoord:y,indices:T}}var F=[[3,7,5,1],[6,2,0,4],[6,7,3,2],[0,1,5,4],[7,6,4,5],[2,3,1,0]];function S(e){for(var r=(e=e||1)/2,t=[[-r,-r,-r],[+r,-r,-r],[-r,+r,-r],[+r,+r,-r],[-r,-r,+r],[+r,-r,+r],[-r,+r,+r],[+r,+r,+r]],n=[[1,0,0],[-1,0,0],[0,1,0],[0,-1,0],[0,0,1],[0,0,-1]],o=[[1,0],[0,0],[0,1],[1,1]],a=m(3,24),i=m(3,24),u=m(2,24),f=m(3,12,Uint16Array),s=0;s<6;++s){for(var c=F[s],l=0;l<4;++l){var y=t[c[l]],p=n[s],b=o[l];a.push(y),i.push(p),u.push(b)}var d=4*s;f.push(d+0,d+1,d+2),f.push(d+0,d+2,d+3)}return{position:a,normal:i,texcoord:u,indices:f}}function T(e,r,t,n,o,a,i){if(n<3)throw new Error("radialSubdivisions must be 3 or greater");if(o<1)throw new Error("verticalSubdivisions must be 1 or greater");for(var u=void 0===a||a,f=void 0===i||i,s=(u?2:0)+(f?2:0),c=(n+1)*(o+1+s),l=m(3,c),y=m(3,c),p=m(2,c),b=m(3,n*(o+s/2)*2,Uint16Array),d=n+1,v=Math.atan2(e-r,t),h=Math.cos(v),g=Math.sin(v),x=o+(f?2:0),w=u?-2:0;w<=x;++w){var A=w/o,E=t*A,P=void 0;w<0?(E=0,A=1,P=e):w>o?(E=t,A=1,P=r):P=e+w/o*(r-e),-2!==w&&w!==o+2||(P=0,A=0),E-=t/2;for(var F=0;F<d;++F){var S=Math.sin(F*Math.PI*2/n),T=Math.cos(F*Math.PI*2/n);l.push(S*P,E,T*P),w<0?y.push(0,-1,0):w>o?y.push(0,1,0):0===P?y.push(0,0,0):y.push(S*h,g,T*h),p.push(F/n,1-A)}}for(var O=0;O<o+s;++O)if(!(1===O&&u||O===o+s-2&&f))for(var _=0;_<n;++_)b.push(d*(O+0)+0+_,d*(O+0)+1+_,d*(O+1)+1+_),b.push(d*(O+0)+0+_,d*(O+1)+1+_,d*(O+1)+0+_);return{position:l,normal:y,texcoord:p,indices:b}}function O(e,r){r=r||[];for(var t=[],n=0;n<e.length;n+=4){var o=e[n],a=e.slice(n+1,n+4);a.push.apply(a,r);for(var i=0;i<o;++i)t.push.apply(t,a)}return t}function _(){var e=[0,0,0,0,150,0,30,0,0,0,150,0,30,150,0,30,0,0,30,0,0,30,30,0,100,0,0,30,30,0,100,30,0,100,0,0,30,60,0,30,90,0,67,60,0,30,90,0,67,90,0,67,60,0,0,0,30,30,0,30,0,150,30,0,150,30,30,0,30,30,150,30,30,0,30,100,0,30,30,30,30,30,30,30,100,0,30,100,30,30,30,60,30,67,60,30,30,90,30,30,90,30,67,60,30,67,90,30,0,0,0,100,0,0,100,0,30,0,0,0,100,0,30,0,0,30,100,0,0,100,30,0,100,30,30,100,0,0,100,30,30,100,0,30,30,30,0,30,30,30,100,30,30,30,30,0,100,30,30,100,30,0,30,30,0,30,60,30,30,30,30,30,30,0,30,60,0,30,60,30,30,60,0,67,60,30,30,60,30,30,60,0,67,60,0,67,60,30,67,60,0,67,90,30,67,60,30,67,60,0,67,90,0,67,90,30,30,90,0,30,90,30,67,90,30,30,90,0,67,90,30,67,90,0,30,90,0,30,150,30,30,90,30,30,90,0,30,150,0,30,150,30,0,150,0,0,150,30,30,150,30,0,150,0,30,150,30,30,150,0,0,0,0,0,0,30,0,150,30,0,0,0,0,150,30,0,150,0],r=O([18,0,0,1,18,0,0,-1,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,-1,0,6,-1,0,0]),t=O([18,200,70,120,18,80,70,200,6,70,200,210,6,200,200,70,6,210,100,70,6,210,160,70,6,70,180,210,6,100,70,210,6,76,210,100,6,140,210,80,6,90,130,110,6,160,160,220],[255]),n=e.length/3,o={position:m(3,n),texcoord:m(2,n),normal:m(3,n),color:m(4,n,Uint8Array),indices:m(3,n/3,Uint16Array)};o.position.push(e),o.texcoord.push([.22,.19,.22,.79,.34,.19,.22,.79,.34,.79,.34,.19,.34,.19,.34,.31,.62,.19,.34,.31,.62,.31,.62,.19,.34,.43,.34,.55,.49,.43,.34,.55,.49,.55,.49,.43,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,0,1,1,1,0,0,1,1,1,0]),o.normal.push(r),o.color.push(t);for(var a=0;a<n;++a)o.indices.push(a);return o}function j(e,r,t,n,o,a,i){if(o<=0)throw new Error("subdivisionDown must be > 0");var u=(i=i||1)-(a=a||0),s=2*(o+1)*4,c=m(3,s),l=m(3,s),y=m(2,s);function p(e,r,t){return e+(r-e)*t}function b(r,t,i,s,m,b){for(var d=0;d<=o;d++){var v=t/1,h=d/o,g=2*(v-.5),x=(a+h*u)*Math.PI,w=Math.sin(x),A=Math.cos(x),E=p(e,r,w),P=g*n,F=A*e,S=w*E;c.push(P,F,S);var T=f.add(f.multiply([0,w,A],i),s);l.push(T),y.push(v*m+b,h)}}for(var d=0;d<2;d++){var v=2*(d/1-.5);b(r,d,[1,1,1],[0,0,0],1,0),b(r,d,[0,0,0],[v,0,0],0,0),b(t,d,[1,1,1],[0,0,0],1,0),b(t,d,[0,0,0],[v,0,0],0,1)}var h=m(3,2*o*4,Uint16Array);function g(e,r){for(var t=0;t<o;++t)h.push(e+t+0,e+t+1,r+t+0),h.push(e+t+1,r+t+1,r+t+0)}var x=o+1;return g(0*x,4*x),g(5*x,7*x),g(6*x,2*x),g(3*x,1*x),{position:c,normal:l,texcoord:y,indices:h}}function M(e,r,t,n,o,a){return T(e,e,r,t,n,o,a)}function B(e,r,t,n,o,a){if(t<3)throw new Error("radialSubdivisions must be 3 or greater");if(n<3)throw new Error("verticalSubdivisions must be 3 or greater");o=o||0;for(var i=(a=a||2*Math.PI)-o,u=t+1,f=n+1,s=u*f,c=m(3,s),l=m(3,s),y=m(2,s),p=m(3,t*n*2,Uint16Array),b=0;b<f;++b)for(var d=b/n,v=d*Math.PI*2,h=Math.sin(v),g=e+h*r,x=Math.cos(v),w=x*r,A=0;A<u;++A){var E=A/t,P=o+E*i,F=Math.sin(P),S=Math.cos(P),T=F*g,O=S*g,_=F*h,j=S*h;c.push(T,w,O),l.push(_,x,j),y.push(E,1-d)}for(var M=0;M<n;++M)for(var B=0;B<t;++B){var I=1+B,C=1+M;p.push(u*M+B,u*C+B,u*M+I),p.push(u*C+B,u*C+I,u*M+I)}return{position:c,normal:l,texcoord:y,indices:p}}function I(e,r,t,n,o){if(r<3)throw new Error("divisions must be at least 3");o=o||1,n=n||0;for(var a=(r+1)*((t=t||1)+1),i=m(3,a),u=m(3,a),f=m(2,a),s=m(3,t*r*2,Uint16Array),c=0,l=e-n,y=r+1,p=0;p<=t;++p){for(var b=n+l*Math.pow(p/t,o),d=0;d<=r;++d){var v=2*Math.PI*d/r,h=b*Math.cos(v),g=b*Math.sin(v);if(i.push(h,0,g),u.push(0,1,0),f.push(1-d/r,p/t),p>0&&d!==r){var x=c+(d+1),w=c+d,A=c+d-y,E=c+(d+1)-y;s.push(x,w,A),s.push(x,A,E)}}c+=r+1}return{position:i,normal:u,texcoord:f,indices:s}}function C(e){return function(r){var t=e.apply(this,Array.prototype.slice.call(arguments,1));return o.createBuffersFromArrays(r,t)}}function k(e){return function(r){var t=e.apply(null,Array.prototype.slice.call(arguments,1));return o.createBufferInfoFromArrays(r,t)}}var z=["numComponents","size","type","normalize","stride","offset","attrib","name","attribName"];function R(e,r,t,n){n=n||0;for(var o=e.length,a=0;a<o;++a)r[t+a]=e[a]+n}function D(e,r){var t=l(e),n=new t.constructor(r),o=n;return t.numComponents&&t.numElements&&p(n,t.numComponents),e.data&&(o={data:n},a.copyNamedProperties(z,e,o)),o}var U=k(_);r.create3DFBufferInfo=U;var L=C(_);r.create3DFBuffers=L;var W=k(S);r.createCubeBufferInfo=W;var V=C(S);r.createCubeBuffers=V;var G=k(E);r.createPlaneBufferInfo=G;var N=C(E);r.createPlaneBuffers=N;var X=k(P);r.createSphereBufferInfo=X;var Y=C(P);r.createSphereBuffers=Y;var q=k(T);r.createTruncatedConeBufferInfo=q;var H=C(T);r.createTruncatedConeBuffers=H;var Q=k(A);r.createXYQuadBufferInfo=Q;var Z=C(A);r.createXYQuadBuffers=Z;var $=k(j);r.createCrescentBufferInfo=$;var K=C(j);r.createCrescentBuffers=K;var J=k(M);r.createCylinderBufferInfo=J;var ee=C(M);r.createCylinderBuffers=ee;var re=k(B);r.createTorusBufferInfo=re;var te=C(B);r.createTorusBuffers=te;var ne=k(I);r.createDiscBufferInfo=ne;var oe=C(I);r.createDiscBuffers=oe;var ae=$;r.createCresentBufferInfo=ae;var ie=K;r.createCresentBuffers=ie;var ue=j;r.createCresentVertices=ue},"./src/programs.js":
/*!*************************!*\
  !*** ./src/programs.js ***!
  \*************************/
/*! no static exports found */function(e,r,t){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r.__esModule=!0,r.createAttributeSetters=Se,r.createProgram=fe,r.createProgramFromScripts=function(e,r,t,n,o){for(var a=oe(t,n,o),i=[],u=0;u<r.length;++u){var f=se(e,r[u],e[ae[u]],a.errorCallback);if(!f)return null;i.push(f)}return fe(e,i,a)},r.createProgramFromSources=ce,r.createProgramInfo=function(e,r,t,n,o){var a=oe(t,n,o),i=!0;if(r=r.map((function(e){if(e.indexOf("\n")<0){var r=y(e);r?e=r.text:(a.errorCallback("no element with id: "+e),i=!1)}return e})),!i)return null;var u=ce(e,r,a);if(!u)return null;return Oe(e,u)},r.createProgramInfoFromProgram=Oe,r.createUniformSetters=be,r.createUniformBlockSpecFromProgram=he,r.createUniformBlockInfoFromProgram=we,r.createUniformBlockInfo=function(e,r,t){return we(e,r.program,r.uniformBlockSpec,t)},r.createTransformFeedback=function(e,r,t){var n=e.createTransformFeedback();return e.bindTransformFeedback(g,n),e.useProgram(r.program),ve(e,r,t),e.bindTransformFeedback(g,null),n},r.createTransformFeedbackInfo=de,r.bindTransformFeedbackInfo=ve,r.setAttributes=Te,r.setBuffersAndAttributes=function(e,r,t){t.vertexArrayObject?e.bindVertexArray(t.vertexArrayObject):(Te(r.attribSetters||r,t.attribs),t.indices&&e.bindBuffer(d,t.indices))},r.setUniforms=Pe,r.setUniformBlock=function(e,r,t){Ae(e,r,t)&&e.bufferData(v,t.array,m)},r.setBlockUniforms=function(e,r){var t=e.setters;for(var n in r){var o=t[n];if(o)o(r[n])}},r.bindUniformBlock=Ae,r.setUniformsAndBindTextures=void 0;var o=u(t(/*! ./utils.js */"./src/utils.js")),a=u(t(/*! ./helper.js */"./src/helper.js"));function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function u(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=i();if(r&&r.has(e))return r.get(e);var t={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var u=o?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(t,a,u):t[a]=e[a]}return t.default=e,r&&r.set(e,t),t}function f(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"==typeof e)return s(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return s(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var c=a.error,l=a.warn;function y(e){return"undefined"!=typeof document&&document.getElementById?document.getElementById(e):null}var p=33984,m=35048,b=34962,d=34963,v=35345,h=35982,g=36386,x=35713,w=35714,A=35632,E=35633,P=35981,F=35718,S=35721,T=35971,O=35382,_=35396,j=35398,M=35392,B=35395,I=5126,C=5124,k=5125,z=3553,R=34067,D=32879,U=35866,L={};function W(e,r){return L[r].bindPoint}function V(e,r){return function(t){e.uniform1i(r,t)}}function G(e,r){return function(t){e.uniform1iv(r,t)}}function N(e,r){return function(t){e.uniform2iv(r,t)}}function X(e,r){return function(t){e.uniform3iv(r,t)}}function Y(e,r){return function(t){e.uniform4iv(r,t)}}function q(e,r,t,n){var i=W(0,r);return o.isWebGL2(e)?function(r){var o,u;a.isTexture(e,r)?(o=r,u=null):(o=r.texture,u=r.sampler),e.uniform1i(n,t),e.activeTexture(p+t),e.bindTexture(i,o),e.bindSampler(t,u)}:function(r){e.uniform1i(n,t),e.activeTexture(p+t),e.bindTexture(i,r)}}function H(e,r,t,n,i){for(var u=W(0,r),f=new Int32Array(i),s=0;s<i;++s)f[s]=t+s;return o.isWebGL2(e)?function(r){e.uniform1iv(n,f),r.forEach((function(r,n){var o,i;e.activeTexture(p+f[n]),a.isTexture(e,r)?(o=r,i=null):(o=r.texture,i=r.sampler),e.bindSampler(t,i),e.bindTexture(u,o)}))}:function(r){e.uniform1iv(n,f),r.forEach((function(r,t){e.activeTexture(p+f[t]),e.bindTexture(u,r)}))}}function Q(e,r){return function(t){if(t.value)switch(e.disableVertexAttribArray(r),t.value.length){case 4:e.vertexAttrib4fv(r,t.value);break;case 3:e.vertexAttrib3fv(r,t.value);break;case 2:e.vertexAttrib2fv(r,t.value);break;case 1:e.vertexAttrib1fv(r,t.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else e.bindBuffer(b,t.buffer),e.enableVertexAttribArray(r),e.vertexAttribPointer(r,t.numComponents||t.size,t.type||I,t.normalize||!1,t.stride||0,t.offset||0),void 0!==t.divisor&&e.vertexAttribDivisor(r,t.divisor)}}function Z(e,r){return function(t){if(t.value){if(e.disableVertexAttribArray(r),4!==t.value.length)throw new Error("The length of an integer constant value must be 4!");e.vertexAttrib4iv(r,t.value)}else e.bindBuffer(b,t.buffer),e.enableVertexAttribArray(r),e.vertexAttribIPointer(r,t.numComponents||t.size,t.type||C,t.stride||0,t.offset||0),void 0!==t.divisor&&e.vertexAttribDivisor(r,t.divisor)}}function $(e,r){return function(t){if(t.value){if(e.disableVertexAttribArray(r),4!==t.value.length)throw new Error("The length of an unsigned integer constant value must be 4!");e.vertexAttrib4uiv(r,t.value)}else e.bindBuffer(b,t.buffer),e.enableVertexAttribArray(r),e.vertexAttribIPointer(r,t.numComponents||t.size,t.type||k,t.stride||0,t.offset||0),void 0!==t.divisor&&e.vertexAttribDivisor(r,t.divisor)}}function K(e,r,t){var n=t.size,o=t.count;return function(t){e.bindBuffer(b,t.buffer);for(var a=t.size||t.numComponents||n,i=a/o,u=t.type||I,f=L[u].size*a,s=t.normalize||!1,c=t.offset||0,l=f/o,y=0;y<o;++y)e.enableVertexAttribArray(r+y),e.vertexAttribPointer(r+y,i,u,s,f,c+l*y),void 0!==t.divisor&&e.vertexAttribDivisor(r+y,t.divisor)}}L[5126]={Type:Float32Array,size:4,setter:function(e,r){return function(t){e.uniform1f(r,t)}},arraySetter:function(e,r){return function(t){e.uniform1fv(r,t)}}},L[35664]={Type:Float32Array,size:8,setter:function(e,r){return function(t){e.uniform2fv(r,t)}},cols:2},L[35665]={Type:Float32Array,size:12,setter:function(e,r){return function(t){e.uniform3fv(r,t)}},cols:3},L[35666]={Type:Float32Array,size:16,setter:function(e,r){return function(t){e.uniform4fv(r,t)}},cols:4},L[C]={Type:Int32Array,size:4,setter:V,arraySetter:G},L[35667]={Type:Int32Array,size:8,setter:N,cols:2},L[35668]={Type:Int32Array,size:12,setter:X,cols:3},L[35669]={Type:Int32Array,size:16,setter:Y,cols:4},L[5125]={Type:Uint32Array,size:4,setter:function(e,r){return function(t){e.uniform1ui(r,t)}},arraySetter:function(e,r){return function(t){e.uniform1uiv(r,t)}}},L[36294]={Type:Uint32Array,size:8,setter:function(e,r){return function(t){e.uniform2uiv(r,t)}},cols:2},L[36295]={Type:Uint32Array,size:12,setter:function(e,r){return function(t){e.uniform3uiv(r,t)}},cols:3},L[36296]={Type:Uint32Array,size:16,setter:function(e,r){return function(t){e.uniform4uiv(r,t)}},cols:4},L[35670]={Type:Uint32Array,size:4,setter:V,arraySetter:G},L[35671]={Type:Uint32Array,size:8,setter:N,cols:2},L[35672]={Type:Uint32Array,size:12,setter:X,cols:3},L[35673]={Type:Uint32Array,size:16,setter:Y,cols:4},L[35674]={Type:Float32Array,size:32,setter:function(e,r){return function(t){e.uniformMatrix2fv(r,!1,t)}},rows:2,cols:2},L[35675]={Type:Float32Array,size:48,setter:function(e,r){return function(t){e.uniformMatrix3fv(r,!1,t)}},rows:3,cols:3},L[35676]={Type:Float32Array,size:64,setter:function(e,r){return function(t){e.uniformMatrix4fv(r,!1,t)}},rows:4,cols:4},L[35685]={Type:Float32Array,size:32,setter:function(e,r){return function(t){e.uniformMatrix2x3fv(r,!1,t)}},rows:2,cols:3},L[35686]={Type:Float32Array,size:32,setter:function(e,r){return function(t){e.uniformMatrix2x4fv(r,!1,t)}},rows:2,cols:4},L[35687]={Type:Float32Array,size:48,setter:function(e,r){return function(t){e.uniformMatrix3x2fv(r,!1,t)}},rows:3,cols:2},L[35688]={Type:Float32Array,size:48,setter:function(e,r){return function(t){e.uniformMatrix3x4fv(r,!1,t)}},rows:3,cols:4},L[35689]={Type:Float32Array,size:64,setter:function(e,r){return function(t){e.uniformMatrix4x2fv(r,!1,t)}},rows:4,cols:2},L[35690]={Type:Float32Array,size:64,setter:function(e,r){return function(t){e.uniformMatrix4x3fv(r,!1,t)}},rows:4,cols:3},L[35678]={Type:null,size:0,setter:q,arraySetter:H,bindPoint:z},L[35680]={Type:null,size:0,setter:q,arraySetter:H,bindPoint:R},L[35679]={Type:null,size:0,setter:q,arraySetter:H,bindPoint:D},L[35682]={Type:null,size:0,setter:q,arraySetter:H,bindPoint:z},L[36289]={Type:null,size:0,setter:q,arraySetter:H,bindPoint:U},L[36292]={Type:null,size:0,setter:q,arraySetter:H,bindPoint:U},L[36293]={Type:null,size:0,setter:q,arraySetter:H,bindPoint:R},L[36298]={Type:null,size:0,setter:q,arraySetter:H,bindPoint:z},L[36299]={Type:null,size:0,setter:q,arraySetter:H,bindPoint:D},L[36300]={Type:null,size:0,setter:q,arraySetter:H,bindPoint:R},L[36303]={Type:null,size:0,setter:q,arraySetter:H,bindPoint:U},L[36306]={Type:null,size:0,setter:q,arraySetter:H,bindPoint:z},L[36307]={Type:null,size:0,setter:q,arraySetter:H,bindPoint:D},L[36308]={Type:null,size:0,setter:q,arraySetter:H,bindPoint:R},L[36311]={Type:null,size:0,setter:q,arraySetter:H,bindPoint:U};var J={};J[5126]={size:4,setter:Q},J[35664]={size:8,setter:Q},J[35665]={size:12,setter:Q},J[35666]={size:16,setter:Q},J[C]={size:4,setter:Z},J[35667]={size:8,setter:Z},J[35668]={size:12,setter:Z},J[35669]={size:16,setter:Z},J[5125]={size:4,setter:$},J[36294]={size:8,setter:$},J[36295]={size:12,setter:$},J[36296]={size:16,setter:$},J[35670]={size:4,setter:Z},J[35671]={size:8,setter:Z},J[35672]={size:12,setter:Z},J[35673]={size:16,setter:Z},J[35674]={size:4,setter:K,count:2},J[35675]={size:9,setter:K,count:3},J[35676]={size:16,setter:K,count:4};var ee=/ERROR:\s*\d+:(\d+)/gi;function re(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=f(r.matchAll(ee)),o=new Map(n.map((function(e,t){var o=parseInt(e[1]),a=n[t+1],i=a?a.index:r.length;return[o-1,r.substring(e.index,i)]})));return e.split("\n").map((function(e,r){var n=o.get(r);return"".concat(r+1+t,": ").concat(e).concat(n?"\n\n^^^ ".concat(n):"")})).join("\n")}var te=/^[ \t]*\n/;function ne(e,r,t,n){var a=n||c,i=e.createShader(t),u=0;if(te.test(r)&&(u=1,r=r.replace(te,"")),e.shaderSource(i,r),e.compileShader(i),!e.getShaderParameter(i,x)){var f=e.getShaderInfoLog(i);return a("".concat(re(r,f,u),"\nError compiling ").concat(o.glEnumToString(e,t),": ").concat(f)),e.deleteShader(i),null}return i}function oe(e,r,t){var n,o;if("function"==typeof r&&(t=r,r=void 0),"function"==typeof e)t=e,e=void 0;else if(e&&!Array.isArray(e)){if(e.errorCallback)return e;var a=e;t=a.errorCallback,e=a.attribLocations,n=a.transformFeedbackVaryings,o=a.transformFeedbackMode}var i={errorCallback:t||c,transformFeedbackVaryings:n,transformFeedbackMode:o};if(e){var u={};Array.isArray(e)?e.forEach((function(e,t){u[e]=r?r[t]:t})):u=e,i.attribLocations=u}return i}var ae=["VERTEX_SHADER","FRAGMENT_SHADER"];function ie(e,r){return r.indexOf("frag")>=0?A:r.indexOf("vert")>=0?E:void 0}function ue(e,r){r.forEach((function(r){e.deleteShader(r)}))}function fe(e,r,t,n,i){for(var u=oe(t,n,i),f=[],s=[],c=0;c<r.length;++c){var l=r[c];if("string"==typeof l){var p=y(l),m=p?p.text:l,b=e[ae[c]];p&&p.type&&(b=ie(0,p.type)||b),l=ne(e,m,b,u.errorCallback),s.push(l)}a.isShader(e,l)&&f.push(l)}if(f.length!==r.length)return u.errorCallback("not enough shaders for program"),ue(e,s),null;var d=e.createProgram();f.forEach((function(r){e.attachShader(d,r)})),u.attribLocations&&Object.keys(u.attribLocations).forEach((function(r){e.bindAttribLocation(d,u.attribLocations[r],r)}));var v=u.transformFeedbackVaryings;if(v&&(v.attribs&&(v=v.attribs),Array.isArray(v)||(v=Object.keys(v)),e.transformFeedbackVaryings(d,v,u.transformFeedbackMode||P)),e.linkProgram(d),!e.getProgramParameter(d,w)){var h=e.getProgramInfoLog(d);return u.errorCallback("".concat(f.map((function(r){var t=re(e.getShaderSource(r),"",0),n=e.getShaderParameter(r,e.SHADER_TYPE);return"".concat(o.glEnumToString(e,n),"\n").concat(t,"}")})).join("\n"),"\nError in program linking: ").concat(h)),e.deleteProgram(d),ue(e,s),null}return d}function se(e,r,t,n){var o,a=y(r);if(!a)throw new Error("unknown script element: ".concat(r));o=a.text;var i=t||ie(0,a.type);if(!i)throw new Error("unknown shader type");return ne(e,o,i,n)}function ce(e,r,t,n,o){for(var a=oe(t,n,o),i=[],u=0;u<r.length;++u){var f=ne(e,r[u],e[ae[u]],a.errorCallback);if(!f)return null;i.push(f)}return fe(e,i,a)}function le(e){var r=e.name;return r.startsWith("gl_")||r.startsWith("webgl_")}var ye=/(\.|\[|]|\w+)/g,pe=function(e){return e>="0"&&e<="9"};function me(e,r,t,n){for(var o=e.split(ye).filter((function(e){return""!==e})),a=0,i="";;){var u=o[a++];i+=u;var f=pe(u[0]),s=f?parseInt(u):u;if(f&&(i+=o[a++]),a===o.length){t[s]=r;break}var c=o[a++],l="["===c,y=t[s]||(l?[]:{});t[s]=y,t=y,n[i]=n[i]||function(e){return function(r){Ee(e,r)}}(y),i+=c}}function be(e,r){var t=0;function n(r,n,o){var a,i=n.name.endsWith("[0]"),u=n.type,f=L[u];if(!f)throw new Error("unknown type: 0x".concat(u.toString(16)));if(f.bindPoint){var s=t;t+=n.size,a=i?f.arraySetter(e,u,s,o,n.size):f.setter(e,u,s,o,n.size)}else a=f.arraySetter&&i?f.arraySetter(e,o):f.setter(e,o);return a.location=o,a}for(var o={},a={},i=e.getProgramParameter(r,F),u=0;u<i;++u){var f=e.getActiveUniform(r,u);if(!le(f)){var s=f.name;s.endsWith("[0]")&&(s=s.substr(0,s.length-3));var c=e.getUniformLocation(r,f.name);if(c){var l=n(0,f,c);o[s]=l,me(s,l,a,o)}}}return o}function de(e,r){for(var t={},n=e.getProgramParameter(r,T),o=0;o<n;++o){var a=e.getTransformFeedbackVarying(r,o);t[a.name]={index:o,type:a.type,size:a.size}}return t}function ve(e,r,t){for(var n in r.transformFeedbackInfo&&(r=r.transformFeedbackInfo),t.attribs&&(t=t.attribs),t){var o=r[n];if(o){var a=t[n];a.offset?e.bindBufferRange(h,o.index,a.buffer,a.offset,a.size):e.bindBufferBase(h,o.index,a.buffer)}}}function he(e,r){for(var t=e.getProgramParameter(r,F),n=[],o=[],a=0;a<t;++a){o.push(a),n.push({});var i=e.getActiveUniform(r,a);n[a].name=i.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach((function(t){var a=t[0],i=t[1];e.getActiveUniforms(r,o,e[a]).forEach((function(e,r){n[r][i]=e}))}));for(var u={},f=e.getProgramParameter(r,O),s=0;s<f;++s){var c=e.getActiveUniformBlockName(r,s),l={index:e.getUniformBlockIndex(r,c),usedByVertexShader:e.getActiveUniformBlockParameter(r,s,_),usedByFragmentShader:e.getActiveUniformBlockParameter(r,s,j),size:e.getActiveUniformBlockParameter(r,s,M),uniformIndices:e.getActiveUniformBlockParameter(r,s,B)};l.used=l.usedByVertexShader||l.usedByFragmentShader,u[c]=l}return{blockSpecs:u,uniformData:n}}var ge=/\[\d+\]\.$/,xe=function(e,r){return((e+(r-1))/r|0)*r};function we(e,r,t,n){var o=t.blockSpecs,a=t.uniformData,i=o[n];if(!i)return l("no uniform block object named:",n),{name:n,uniforms:{}};var u=new ArrayBuffer(i.size),f=e.createBuffer(),s=i.index;e.bindBuffer(v,f),e.uniformBlockBinding(r,i.index,s);var c=n+".";ge.test(c)&&(c=c.replace(ge,"."));var y={},p={},m={};return i.uniformIndices.forEach((function(e){var r=a[e],t=r.name;t.startsWith(c)&&(t=t.substr(c.length));var n=t.endsWith("[0]");n&&(t=t.substr(0,t.length-3));var o=L[r.type],i=o.Type,f=n?xe(o.size,16)*r.size:o.size*r.size,s=new i(u,r.offset,f/i.BYTES_PER_ELEMENT);y[t]=s;var l=function(e,r,t,n){if(r||t){n=n||1;var o=e.length/4;return function(r){for(var t=0,a=0,i=0;i<o;++i){for(var u=0;u<n;++u)e[t++]=r[a++];t+=4-n}}}return function(r){r.length?e.set(r):e[0]=r}}(s,n,o.rows,o.cols);p[t]=l,me(t,l,m,p)})),{name:n,array:u,asFloat:new Float32Array(u),buffer:f,uniforms:y,setters:p}}function Ae(e,r,t){var n=(r.uniformBlockSpec||r).blockSpecs[t.name];if(n){var o=n.index;return e.bindBufferRange(v,o,t.buffer,t.offset||0,t.array.byteLength),!0}return!1}function Ee(e,r){for(var t in r){var n=e[t];"function"==typeof n?n(r[t]):Ee(e[t],r[t])}}function Pe(e){for(var r=e.uniformSetters||e,t=arguments.length<=1?0:arguments.length-1,n=0;n<t;++n){var o=n+1<1||arguments.length<=n+1?void 0:arguments[n+1];if(Array.isArray(o))for(var a=o.length,i=0;i<a;++i)Pe(r,o[i]);else for(var u in o){var f=r[u];f&&f(o[u])}}}var Fe=Pe;function Se(e,r){for(var t={},n=e.getProgramParameter(r,S),o=0;o<n;++o){var a=e.getActiveAttrib(r,o);if(!le(a)){var i=e.getAttribLocation(r,a.name),u=J[a.type],f=u.setter(e,i,u);f.location=i,t[a.name]=f}}return t}function Te(e,r){for(var t in r){var n=e[t];n&&n(r[t])}}function Oe(e,r){var t={program:r,uniformSetters:be(e,r),attribSetters:Se(e,r)};return o.isWebGL2(e)&&(t.uniformBlockSpec=he(e,r),t.transformFeedbackInfo=de(e,r)),t}r.setUniformsAndBindTextures=Fe},"./src/textures.js":
/*!*************************!*\
  !*** ./src/textures.js ***!
  \*************************/
/*! no static exports found */function(e,r,t){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r.__esModule=!0,r.setTextureDefaults_=function(e){i.copyExistingProperties(e,l),e.textureColor&&Mr(e.textureColor)},r.createSampler=Rr,r.createSamplers=function(e,r){var t={};return Object.keys(r).forEach((function(n){t[n]=Rr(e,r[n])})),t},r.setSamplerParameters=zr,r.createTexture=Jr,r.setEmptyTexture=Kr,r.setTextureFromArray=$r,r.loadTextureFromUrl=Hr,r.setTextureFromElement=Vr,r.setTextureFilteringForSize=Dr,r.setTextureParameters=kr,r.setDefaultTextureColor=Mr,r.createTextures=function(e,r,t){t=t||Gr;var n=0,o=[],a={},i={};function u(){0===n&&setTimeout((function(){t(o.length?o:void 0,a,i)}),0)}return Object.keys(r).forEach((function(t){var f,s,c=r[t];("string"==typeof(s=c.src)||Array.isArray(s)&&"string"==typeof s[0])&&(f=function(e,r,a){i[t]=a,--n,e&&o.push(e),u()},++n),a[t]=Jr(e,c,f)})),u(),a},r.resizeTexture=function(e,r,t,n,o,a){n=n||t.width,o=o||t.height,a=a||t.depth;var i=t.target||P;e.bindTexture(i,r);var u,f=t.level||0,s=t.internalFormat||t.format||d,c=Fr(s),l=t.format||c.format,p=t.src;u=p&&(y(p)||Array.isArray(p)&&"number"==typeof p[0])?t.type||_r(e,p,c.type):t.type||c.type;if(i===F)for(var m=0;m<6;++m)e.texImage2D(O+m,f,s,n,o,0,l,u,null);else i===S||i===T?e.texImage3D(i,f,s,n,o,a,0,l,u,null):e.texImage2D(i,f,s,n,o,0,l,u,null)},r.canGenerateMipmap=Tr,r.canFilter=Or,r.getNumComponentsForFormat=function(e){var r=wr[e];if(!r)throw"unknown format: "+e;return r.numColorComponents},r.getBytesPerElementForInternalFormat=Pr,r.getFormatAndTypeForInternalFormat=Fr;var o=f(t(/*! ./utils.js */"./src/utils.js")),a=f(t(/*! ./typedarrays.js */"./src/typedarrays.js")),i=f(t(/*! ./helper.js */"./src/helper.js"));function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function f(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=u();if(r&&r.has(e))return r.get(e);var t={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(t,a,i):t[a]=e[a]}return t.default=e,r&&r.set(e,t),t}var s,c,l={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},y=a.isArrayBuffer,p=function(){return s=s||("undefined"!=typeof document&&document.createElement?document.createElement("canvas").getContext("2d"):null)},m=6406,b=6407,d=6408,v=6409,h=6410,g=6402,x=34041,w=33071,A=9728,E=9729,P=3553,F=34067,S=32879,T=35866,O=34069,_=34070,j=34071,M=34072,B=34073,I=34074,C=10241,k=10240,z=10242,R=10243,D=32882,U=33082,L=33083,W=33084,V=33085,G=3317,N=3314,X=32878,Y=3316,q=3315,H=32877,Q=37443,Z=37441,$=37440,K=33321,J=36756,ee=33325,re=33326,te=33330,ne=33329,oe=33338,ae=33337,ie=33340,ue=33339,fe=33323,se=36757,ce=33327,le=33328,ye=33336,pe=33335,me=33332,be=33331,de=33334,ve=33333,he=32849,ge=35905,xe=36194,we=36758,Ae=35898,Ee=35901,Pe=34843,Fe=34837,Se=36221,Te=36239,Oe=36215,_e=36233,je=36209,Me=36227,Be=32856,Ie=35907,Ce=36759,ke=32855,ze=32854,Re=32857,De=34842,Ue=34836,Le=36220,We=36238,Ve=36975,Ge=36214,Ne=36232,Xe=36226,Ye=36208,qe=33189,He=33190,Qe=36012,Ze=36013,$e=35056,Ke=5120,Je=5121,er=5122,rr=5123,tr=5124,nr=5125,or=5126,ar=32819,ir=32820,ur=33635,fr=5131,sr=36193,cr=33640,lr=35899,yr=35902,pr=36269,mr=34042,br=33319,dr=33320,vr=6403,hr=36244,gr=36248,xr=36249,wr={},Ar=wr;function Er(e){if(!c){var r={};r[m]={textureFormat:m,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[Je,fr,sr,or]},r[v]={textureFormat:v,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[Je,fr,sr,or]},r[h]={textureFormat:h,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2,4,4,8],type:[Je,fr,sr,or]},r[b]={textureFormat:b,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,6,6,12,2],type:[Je,fr,sr,or,ur]},r[d]={textureFormat:d,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,8,8,16,2,2],type:[Je,fr,sr,or,ar,ir]},r[g]={textureFormat:g,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[nr,rr]},r[K]={textureFormat:vr,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1],type:[Je]},r[J]={textureFormat:vr,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[1],type:[Ke]},r[ee]={textureFormat:vr,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4,2],type:[or,fr]},r[re]={textureFormat:vr,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[4],type:[or]},r[te]={textureFormat:hr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[Je]},r[ne]={textureFormat:hr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[Ke]},r[me]={textureFormat:hr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[rr]},r[be]={textureFormat:hr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[er]},r[de]={textureFormat:hr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[nr]},r[ve]={textureFormat:hr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[tr]},r[fe]={textureFormat:br,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2],type:[Je]},r[se]={textureFormat:br,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[2],type:[Ke]},r[ce]={textureFormat:br,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[8,4],type:[or,fr]},r[le]={textureFormat:br,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[8],type:[or]},r[ye]={textureFormat:dr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Je]},r[pe]={textureFormat:dr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Ke]},r[oe]={textureFormat:dr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[rr]},r[ae]={textureFormat:dr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[er]},r[ie]={textureFormat:dr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[nr]},r[ue]={textureFormat:dr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[tr]},r[he]={textureFormat:b,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3],type:[Je]},r[ge]={textureFormat:b,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[Je]},r[xe]={textureFormat:b,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,2],type:[Je,ur]},r[we]={textureFormat:b,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[Ke]},r[Ae]={textureFormat:b,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[or,fr,lr]},r[Ee]={textureFormat:b,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[or,fr,yr]},r[Pe]={textureFormat:b,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6],type:[or,fr]},r[Fe]={textureFormat:b,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[or]},r[Se]={textureFormat:gr,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[Je]},r[Te]={textureFormat:gr,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[Ke]},r[Oe]={textureFormat:gr,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[rr]},r[_e]={textureFormat:gr,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[er]},r[je]={textureFormat:gr,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[nr]},r[Me]={textureFormat:gr,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[tr]},r[Be]={textureFormat:d,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[Je]},r[Ie]={textureFormat:d,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[Je]},r[Ce]={textureFormat:d,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4],type:[Ke]},r[ke]={textureFormat:d,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2,4],type:[Je,ir,cr]},r[ze]={textureFormat:d,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2],type:[Je,ar]},r[Re]={textureFormat:d,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[cr]},r[De]={textureFormat:d,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[16,8],type:[or,fr]},r[Ue]={textureFormat:d,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[16],type:[or]},r[Le]={textureFormat:xr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Je]},r[We]={textureFormat:xr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Ke]},r[Ve]={textureFormat:xr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[cr]},r[Ge]={textureFormat:xr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[rr]},r[Ne]={textureFormat:xr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[er]},r[Xe]={textureFormat:xr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[tr]},r[Ye]={textureFormat:xr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[nr]},r[qe]={textureFormat:g,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[rr,nr]},r[He]={textureFormat:g,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[nr]},r[Qe]={textureFormat:g,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[or]},r[$e]={textureFormat:x,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[mr]},r[Ze]={textureFormat:x,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[pr]},Object.keys(r).forEach((function(e){var t=r[e];t.bytesPerElementMap={},t.bytesPerElement.forEach((function(e,r){var n=t.type[r];t.bytesPerElementMap[n]=e}))})),c=r}return c[e]}function Pr(e,r){var t=Er(e);if(!t)throw"unknown internal format";var n=t.bytesPerElementMap[r];if(void 0===n)throw"unknown internal format";return n}function Fr(e){var r=Er(e);if(!r)throw"unknown internal format";return{format:r.textureFormat,type:r.type[0]}}function Sr(e){return!(e&e-1)}function Tr(e,r,t,n){if(!o.isWebGL2(e))return Sr(r)&&Sr(t);var a=Er(n);if(!a)throw"unknown internal format";return a.colorRenderable&&a.textureFilterable}function Or(e){var r=Er(e);if(!r)throw"unknown internal format";return r.textureFilterable}function _r(e,r,t){return y(r)?a.getGLTypeForTypedArray(r):t||Je}function jr(e,r,t,n,o){if(o%1!=0)throw"can't guess dimensions";if(t||n){if(n){if(!t&&(t=o/n)%1)throw"can't guess dimensions"}else if((n=o/t)%1)throw"can't guess dimensions"}else{var a=Math.sqrt(o/(r===F?6:1));a%1==0?(t=a,n=a):(t=o,n=1)}return{width:t,height:n}}function Mr(e){l.textureColor=new Uint8Array([255*e[0],255*e[1],255*e[2],255*e[3]])}function Br(e,r){void 0!==r.colorspaceConversion&&e.pixelStorei(Q,r.colorspaceConversion),void 0!==r.premultiplyAlpha&&e.pixelStorei(Z,r.premultiplyAlpha),void 0!==r.flipY&&e.pixelStorei($,r.flipY)}function Ir(e){e.pixelStorei(G,4),o.isWebGL2(e)&&(e.pixelStorei(N,0),e.pixelStorei(X,0),e.pixelStorei(Y,0),e.pixelStorei(q,0),e.pixelStorei(H,0))}function Cr(e,r,t,n){n.minMag&&(t.call(e,r,C,n.minMag),t.call(e,r,k,n.minMag)),n.min&&t.call(e,r,C,n.min),n.mag&&t.call(e,r,k,n.mag),n.wrap&&(t.call(e,r,z,n.wrap),t.call(e,r,R,n.wrap),(r===S||i.isSampler(e,r))&&t.call(e,r,D,n.wrap)),n.wrapR&&t.call(e,r,D,n.wrapR),n.wrapS&&t.call(e,r,z,n.wrapS),n.wrapT&&t.call(e,r,R,n.wrapT),n.minLod&&t.call(e,r,U,n.minLod),n.maxLod&&t.call(e,r,L,n.maxLod),n.baseLevel&&t.call(e,r,W,n.baseLevel),n.maxLevel&&t.call(e,r,V,n.maxLevel)}function kr(e,r,t){var n=t.target||P;e.bindTexture(n,r),Cr(e,n,e.texParameteri,t)}function zr(e,r,t){Cr(e,r,e.samplerParameteri,t)}function Rr(e,r){var t=e.createSampler();return zr(e,t,r),t}function Dr(e,r,t,n,o,a){t=t||l.textureOptions,a=a||d;var i=t.target||P;if(n=n||t.width,o=o||t.height,e.bindTexture(i,r),Tr(e,n,o,a))e.generateMipmap(i);else{var u=Or(a)?E:A;e.texParameteri(i,C,u),e.texParameteri(i,k,u),e.texParameteri(i,z,w),e.texParameteri(i,R,w)}}function Ur(e){return!0===e.auto||void 0===e.auto&&void 0===e.level}function Lr(e,r){return(r=r||{}).cubeFaceOrder||[O,_,j,M,B,I]}function Wr(e,r){var t=Lr(0,r).map((function(e,r){return{face:e,ndx:r}}));return t.sort((function(e,r){return e.face-r.face})),t}function Vr(e,r,t,n){var o=(n=n||l.textureOptions).target||P,a=n.level||0,i=t.width,u=t.height,f=n.internalFormat||n.format||d,s=Fr(f),c=n.format||s.format,y=n.type||s.type;if(Br(e,n),e.bindTexture(o,r),o===F){var m,b,v=t.width,h=t.height;if(v/6===h)m=h,b=[0,0,1,0,2,0,3,0,4,0,5,0];else if(h/6===v)m=v,b=[0,0,0,1,0,2,0,3,0,4,0,5];else if(v/3==h/2)m=v/3,b=[0,0,1,0,2,0,0,1,1,1,2,1];else{if(v/2!=h/3)throw"can't figure out cube map from element: "+(t.src?t.src:t.nodeName);m=v/2,b=[0,0,1,0,0,1,1,1,0,2,1,2]}var g=p();g?(g.canvas.width=m,g.canvas.height=m,i=m,u=m,Wr(0,n).forEach((function(r){var n=b[2*r.ndx+0]*m,o=b[2*r.ndx+1]*m;g.drawImage(t,n,o,m,m,0,0,m,m),e.texImage2D(r.face,a,f,c,y,g.canvas)})),g.canvas.width=1,g.canvas.height=1):"undefined"!=typeof createImageBitmap&&(i=m,u=m,Wr(0,n).forEach((function(s){var l=b[2*s.ndx+0]*m,p=b[2*s.ndx+1]*m;e.texImage2D(s.face,a,f,m,m,0,c,y,null),createImageBitmap(t,l,p,m,m,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then((function(t){Br(e,n),e.bindTexture(o,r),e.texImage2D(s.face,a,f,c,y,t),Ur(n)&&Dr(e,r,n,i,u,f)}))})))}else if(o===S||o===T){var x=Math.min(t.width,t.height),w=Math.max(t.width,t.height),A=w/x;if(A%1!=0)throw"can not compute 3D dimensions of element";var E=t.width===w?1:0,O=t.height===w?1:0;e.pixelStorei(G,1),e.pixelStorei(N,t.width),e.pixelStorei(X,0),e.pixelStorei(H,0),e.texImage3D(o,a,f,x,x,x,0,c,y,null);for(var _=0;_<A;++_){var j=_*x*E,M=_*x*O;e.pixelStorei(Y,j),e.pixelStorei(q,M),e.texSubImage3D(o,a,0,0,_,x,x,1,c,y,t)}Ir(e)}else e.texImage2D(o,a,f,c,y,t);Ur(n)&&Dr(e,r,n,i,u,f),kr(e,r,n)}function Gr(){}function Nr(e,r){return void 0!==r||function(e){if("undefined"!=typeof document){var r=document.createElement("a");return r.href=e,r.hostname===location.hostname&&r.port===location.port&&r.protocol===location.protocol}var t=new URL(location.href).origin;return new URL(e,location.href).origin===t}(e)?r:"anonymous"}function Xr(e){return"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!=typeof ImageData&&e instanceof ImageData||"undefined"!=typeof HTMLElement&&e instanceof HTMLElement}function Yr(e,r,t){return Xr(e)?(setTimeout((function(){t(null,e)})),e):function(e,r,t){var n;if(t=t||Gr,r=void 0!==r?r:l.crossOrigin,r=Nr(e,r),"undefined"!=typeof Image){n=new Image,void 0!==r&&(n.crossOrigin=r);var o=function(){n.removeEventListener("error",a),n.removeEventListener("load",u),n=null},a=function(){var r="couldn't load image: "+e;i.error(r),t(r,n),o()},u=function(){t(null,n),o()};return n.addEventListener("error",a),n.addEventListener("load",u),n.src=e,n}if("undefined"!=typeof ImageBitmap){var f,s,c=function(){t(f,s)},y={};r&&(y.mode="cors"),fetch(e,y).then((function(e){if(!e.ok)throw e;return e.blob()})).then((function(e){return createImageBitmap(e,{premultiplyAlpha:"none",colorSpaceConversion:"none"})})).then((function(e){s=e,setTimeout(c)})).catch((function(e){f=e,setTimeout(c)})),n=null}return n}(e,r,t)}function qr(e,r,t){var n=(t=t||l.textureOptions).target||P;if(e.bindTexture(n,r),!1!==t.color){var o=function(e){return e=e||l.textureColor,y(e)?e:new Uint8Array([255*e[0],255*e[1],255*e[2],255*e[3]])}(t.color);if(n===F)for(var a=0;a<6;++a)e.texImage2D(O+a,0,d,1,1,0,d,Je,o);else n===S||n===T?e.texImage3D(n,0,d,1,1,1,0,d,Je,o):e.texImage2D(n,0,d,1,1,0,d,Je,o)}}function Hr(e,r,t,n){return n=n||Gr,t=t||l.textureOptions,qr(e,r,t),Yr((t=Object.assign({},t)).src,t.crossOrigin,(function(o,a){o?n(o,r,a):(Vr(e,r,a,t),n(null,r,a))}))}function Qr(e,r,t,n){n=n||Gr;var o=t.src;if(6!==o.length)throw"there must be 6 urls for a cubemap";var a=t.level||0,i=t.internalFormat||t.format||d,u=Fr(i),f=t.format||u.format,s=t.type||Je,c=t.target||P;if(c!==F)throw"target must be TEXTURE_CUBE_MAP";qr(e,r,t),t=Object.assign({},t);var l,y=6,p=[],m=Lr(0,t);l=o.map((function(o,u){return Yr(o,t.crossOrigin,(b=m[u],function(o,u){--y,o?p.push(o):u.width!==u.height?p.push("cubemap face img is not a square: "+u.src):(Br(e,t),e.bindTexture(c,r),5===y?Lr().forEach((function(r){e.texImage2D(r,a,i,f,s,u)})):e.texImage2D(b,a,i,f,s,u),Ur(t)&&e.generateMipmap(c)),0===y&&n(p.length?p:void 0,r,l)}));var b}))}function Zr(e,r,t,n){n=n||Gr;var o=t.src,a=t.internalFormat||t.format||d,i=Fr(a),u=t.format||i.format,f=t.type||Je,s=t.target||T;if(s!==S&&s!==T)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";qr(e,r,t),t=Object.assign({},t);var c,l=o.length,y=[],m=t.level||0,b=t.width,v=t.height,h=o.length,g=!0;c=o.map((function(o,i){return Yr(o,t.crossOrigin,(d=i,function(o,i){if(--l,o)y.push(o);else{if(Br(e,t),e.bindTexture(s,r),g){g=!1,b=t.width||i.width,v=t.height||i.height,e.texImage3D(s,m,a,b,v,h,0,u,f,null);for(var x=0;x<h;++x)e.texSubImage3D(s,m,0,0,x,b,v,1,u,f,i)}else{var w,A=i;i.width===b&&i.height===v||(A=(w=p()).canvas,w.canvas.width=b,w.canvas.height=v,w.drawImage(i,0,0,b,v)),e.texSubImage3D(s,m,0,0,d,b,v,1,u,f,A),w&&A===w.canvas&&(w.canvas.width=0,w.canvas.height=0)}Ur(t)&&e.generateMipmap(s)}0===l&&n(y.length?y:void 0,r,c)}));var d}))}function $r(e,r,t,n){var i=(n=n||l.textureOptions).target||P;e.bindTexture(i,r);var u=n.width,f=n.height,s=n.depth,c=n.level||0,p=n.internalFormat||n.format||d,m=Fr(p),b=n.format||m.format,v=n.type||_r(0,t,m.type);if(y(t))t instanceof Uint8ClampedArray&&(t=new Uint8Array(t.buffer));else{var h=a.getTypedArrayTypeForGLType(v);t=new h(t)}var g,x=Pr(p,v),w=t.byteLength/x;if(w%1)throw"length wrong size for format: "+o.glEnumToString(e,b);if(i===S||i===T)if(u||f||s)!u||f&&s?!f||u&&s?(g=jr(0,i,u,f,w/s),u=g.width,f=g.height):(g=jr(0,i,u,s,w/f),u=g.width,s=g.height):(g=jr(0,i,f,s,w/u),f=g.width,s=g.height);else{var A=Math.cbrt(w);if(A%1!=0)throw"can't guess cube size of array of numElements: "+w;u=A,f=A,s=A}else g=jr(0,i,u,f,w),u=g.width,f=g.height;if(Ir(e),e.pixelStorei(G,n.unpackAlignment||1),Br(e,n),i===F){var E=w/6*(x/t.BYTES_PER_ELEMENT);Wr(0,n).forEach((function(r){var n=E*r.ndx,o=t.subarray(n,n+E);e.texImage2D(r.face,c,p,u,f,0,b,v,o)}))}else i===S||i===T?e.texImage3D(i,c,p,u,f,s,0,b,v,t):e.texImage2D(i,c,p,u,f,0,b,v,t);return{width:u,height:f,depth:s,type:v}}function Kr(e,r,t){var n=t.target||P;e.bindTexture(n,r);var o=t.level||0,a=t.internalFormat||t.format||d,i=Fr(a),u=t.format||i.format,f=t.type||i.type;if(Br(e,t),n===F)for(var s=0;s<6;++s)e.texImage2D(O+s,o,a,t.width,t.height,0,u,f,null);else n===S||n===T?e.texImage3D(n,o,a,t.width,t.height,t.depth,0,u,f,null):e.texImage2D(n,o,a,t.width,t.height,0,u,f,null)}function Jr(e,r,t){t=t||Gr,r=r||l.textureOptions;var n=e.createTexture(),o=r.target||P,a=r.width||1,i=r.height||1,u=r.internalFormat||d;e.bindTexture(o,n),o===F&&(e.texParameteri(o,z,w),e.texParameteri(o,R,w));var f=r.src;if(f)if("function"==typeof f&&(f=f(e,r)),"string"==typeof f)Hr(e,n,r,t);else if(y(f)||Array.isArray(f)&&("number"==typeof f[0]||Array.isArray(f[0])||y(f[0]))){var s=$r(e,n,f,r);a=s.width,i=s.height}else Array.isArray(f)&&("string"==typeof f[0]||Xr(f[0]))?o===F?Qr(e,n,r,t):Zr(e,n,r,t):(Vr(e,n,f,r),a=f.width,i=f.height);else Kr(e,n,r);return Ur(r)&&Dr(e,n,r,a,i,u),kr(e,n,r),n}Ar[m]={numColorComponents:1},Ar[v]={numColorComponents:1},Ar[h]={numColorComponents:2},Ar[b]={numColorComponents:3},Ar[d]={numColorComponents:4},Ar[vr]={numColorComponents:1},Ar[hr]={numColorComponents:1},Ar[br]={numColorComponents:2},Ar[dr]={numColorComponents:2},Ar[b]={numColorComponents:3},Ar[gr]={numColorComponents:3},Ar[d]={numColorComponents:4},Ar[xr]={numColorComponents:4},Ar[g]={numColorComponents:1},Ar[x]={numColorComponents:2}},"./src/twgl-full.js":
/*!**************************!*\
  !*** ./src/twgl-full.js ***!
  \**************************/
/*! no static exports found */function(e,r,t){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r.__esModule=!0;var o={m4:!0,v3:!0,primitives:!0};r.primitives=r.v3=r.m4=void 0;var a=c(t(/*! ./m4.js */"./src/m4.js"));r.m4=a;var i=c(t(/*! ./v3.js */"./src/v3.js"));r.v3=i;var u=c(t(/*! ./primitives.js */"./src/primitives.js"));r.primitives=u;var f=t(/*! ./twgl.js */"./src/twgl.js");function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function c(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=s();if(r&&r.has(e))return r.get(e);var t={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(t,a,i):t[a]=e[a]}return t.default=e,r&&r.set(e,t),t}Object.keys(f).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||(r[e]=f[e]))}))},"./src/twgl.js":
/*!*********************!*\
  !*** ./src/twgl.js ***!
  \*********************/
/*! no static exports found */function(e,r,t){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r.__esModule=!0;var o={addExtensionsToContext:!0,getContext:!0,getWebGLContext:!0,resizeCanvasToDisplaySize:!0,setDefaults:!0,attributes:!0,textures:!0,utils:!0,draw:!0,framebuffers:!0,programs:!0,typedarrays:!0,vertexArrays:!0};r.addExtensionsToContext=x,r.getContext=function(e,r){var t=function(e,r){for(var t=["webgl2","webgl","experimental-webgl"],n=null,o=0;o<t.length;++o)if(n=e.getContext(t[o],r)){d.addExtensionsToContext&&x(n);break}return n}(e,r);return t},r.getWebGLContext=function(e,r){var t=function(e,r){for(var t=["webgl","experimental-webgl"],n=null,o=0;o<t.length;++o)if(n=e.getContext(t[o],r)){d.addExtensionsToContext&&x(n);break}return n}(e,r);return t},r.resizeCanvasToDisplaySize=function(e,r){r=r||1,r=Math.max(0,r);var t=e.clientWidth*r|0,n=e.clientHeight*r|0;if(e.width!==t||e.height!==n)return e.width=t,e.height=n,!0;return!1},r.setDefaults=function(e){u.copyExistingProperties(e,d),a.setAttributeDefaults_(e),i.setTextureDefaults_(e)},r.vertexArrays=r.typedarrays=r.programs=r.framebuffers=r.draw=r.utils=r.textures=r.attributes=void 0;var a=b(t(/*! ./attributes.js */"./src/attributes.js"));r.attributes=a,Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||(r[e]=a[e]))}));var i=b(t(/*! ./textures.js */"./src/textures.js"));r.textures=i,Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||(r[e]=i[e]))}));var u=b(t(/*! ./helper.js */"./src/helper.js")),f=b(t(/*! ./utils.js */"./src/utils.js"));r.utils=f,Object.keys(f).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||(r[e]=f[e]))}));var s=b(t(/*! ./draw.js */"./src/draw.js"));r.draw=s,Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||(r[e]=s[e]))}));var c=b(t(/*! ./framebuffers.js */"./src/framebuffers.js"));r.framebuffers=c,Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||(r[e]=c[e]))}));var l=b(t(/*! ./programs.js */"./src/programs.js"));r.programs=l,Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||(r[e]=l[e]))}));var y=b(t(/*! ./typedarrays.js */"./src/typedarrays.js"));r.typedarrays=y,Object.keys(y).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||(r[e]=y[e]))}));var p=b(t(/*! ./vertex-arrays.js */"./src/vertex-arrays.js"));function m(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return m=function(){return e},e}function b(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=m();if(r&&r.has(e))return r.get(e);var t={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(t,a,i):t[a]=e[a]}return t.default=e,r&&r.set(e,t),t}r.vertexArrays=p,Object.keys(p).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||(r[e]=p[e]))}));var d={addExtensionsToContext:!0};var v=/^(.*?)_/;function h(e,r){f.glEnumToString(e,0);var t=e.getExtension(r);if(t){var n={},o=v.exec(r)[1],a="_"+o;for(var i in t){var s=t[i],c="function"==typeof s,l=c?o:a,y=i;i.endsWith(l)&&(y=i.substring(0,i.length-l.length)),void 0!==e[y]?c||e[y]===s||u.warn(y,e[y],s,i):c?e[y]=function(e){return function(){return e.apply(t,arguments)}}(s):(e[y]=s,n[y]=s)}n.constructor={name:t.constructor.name},f.glEnumToString(n,0)}return t}var g=["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_color_buffer_float","EXT_color_buffer_half_float","EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2","EXT_frag_depth","EXT_sRGB","EXT_shader_texture_lod","EXT_texture_filter_anisotropic","OES_element_index_uint","OES_standard_derivatives","OES_texture_float","OES_texture_float_linear","OES_texture_half_float","OES_texture_half_float_linear","OES_vertex_array_object","WEBGL_color_buffer_float","WEBGL_compressed_texture_atc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_depth_texture","WEBGL_draw_buffers"];function x(e){for(var r=0;r<g.length;++r)h(e,g[r])}},"./src/typedarrays.js":
/*!****************************!*\
  !*** ./src/typedarrays.js ***!
  \****************************/
/*! no static exports found */function(e,r,t){"use strict";r.__esModule=!0,r.getGLTypeForTypedArray=function(e){if(e instanceof Int8Array)return n;if(e instanceof Uint8Array)return o;if(e instanceof Uint8ClampedArray)return o;if(e instanceof Int16Array)return a;if(e instanceof Uint16Array)return i;if(e instanceof Int32Array)return u;if(e instanceof Uint32Array)return f;if(e instanceof Float32Array)return s;throw new Error("unsupported typed array type")},r.getGLTypeForTypedArrayType=function(e){if(e===Int8Array)return n;if(e===Uint8Array)return o;if(e===Uint8ClampedArray)return o;if(e===Int16Array)return a;if(e===Uint16Array)return i;if(e===Int32Array)return u;if(e===Uint32Array)return f;if(e===Float32Array)return s;throw new Error("unsupported typed array type")},r.getTypedArrayTypeForGLType=function(e){var r=c[e];if(!r)throw new Error("unknown gl type");return r},r.isArrayBuffer=void 0;var n=5120,o=5121,a=5122,i=5123,u=5124,f=5125,s=5126,c={},l=c;l[n]=Int8Array,l[o]=Uint8Array,l[a]=Int16Array,l[i]=Uint16Array,l[u]=Int32Array,l[f]=Uint32Array,l[s]=Float32Array,l[32819]=Uint16Array,l[32820]=Uint16Array,l[33635]=Uint16Array,l[5131]=Uint16Array,l[33640]=Uint32Array,l[35899]=Uint32Array,l[35902]=Uint32Array,l[36269]=Uint32Array,l[34042]=Uint32Array;var y="undefined"!=typeof SharedArrayBuffer?function(e){return e&&e.buffer&&(e.buffer instanceof ArrayBuffer||e.buffer instanceof SharedArrayBuffer)}:function(e){return e&&e.buffer&&e.buffer instanceof ArrayBuffer};r.isArrayBuffer=y},"./src/utils.js":
/*!**********************!*\
  !*** ./src/utils.js ***!
  \**********************/
/*! no static exports found */function(e,r,t){"use strict";r.__esModule=!0,r.isWebGL1=function(e){return!e.texStorage2D},r.isWebGL2=function(e){return!!e.texStorage2D},r.glEnumToString=void 0;var n,o,a=(n={},o={},function(e,r){return function(e){var r=e.constructor.name;if(!n[r]){for(var t in e)if("number"==typeof e[t]){var a=o[e[t]];o[e[t]]=a?"".concat(a," | ").concat(t):t}n[r]=!0}}(e),o[r]||("number"==typeof r?"0x".concat(r.toString(16)):r)});r.glEnumToString=a},"./src/v3.js":
/*!*******************!*\
  !*** ./src/v3.js ***!
  \*******************/
/*! no static exports found */function(e,r,t){"use strict";r.__esModule=!0,r.add=function(e,r,t){return(t=t||new n(3))[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t},r.copy=function(e,r){return(r=r||new n(3))[0]=e[0],r[1]=e[1],r[2]=e[2],r},r.create=function(e,r,t){var o=new n(3);e&&(o[0]=e);r&&(o[1]=r);t&&(o[2]=t);return o},r.cross=function(e,r,t){t=t||new n(3);var o=e[2]*r[0]-e[0]*r[2],a=e[0]*r[1]-e[1]*r[0];return t[0]=e[1]*r[2]-e[2]*r[1],t[1]=o,t[2]=a,t},r.distance=function(e,r){var t=e[0]-r[0],n=e[1]-r[1],o=e[2]-r[2];return Math.sqrt(t*t+n*n+o*o)},r.distanceSq=function(e,r){var t=e[0]-r[0],n=e[1]-r[1],o=e[2]-r[2];return t*t+n*n+o*o},r.divide=function(e,r,t){return(t=t||new n(3))[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t},r.divScalar=function(e,r,t){return(t=t||new n(3))[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r,t},r.dot=function(e,r){return e[0]*r[0]+e[1]*r[1]+e[2]*r[2]},r.lerp=function(e,r,t,o){return(o=o||new n(3))[0]=e[0]+t*(r[0]-e[0]),o[1]=e[1]+t*(r[1]-e[1]),o[2]=e[2]+t*(r[2]-e[2]),o},r.lerpV=function(e,r,t,o){return(o=o||new n(3))[0]=e[0]+t[0]*(r[0]-e[0]),o[1]=e[1]+t[1]*(r[1]-e[1]),o[2]=e[2]+t[2]*(r[2]-e[2]),o},r.length=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2])},r.lengthSq=function(e){return e[0]*e[0]+e[1]*e[1]+e[2]*e[2]},r.max=function(e,r,t){return(t=t||new n(3))[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t},r.min=function(e,r,t){return(t=t||new n(3))[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t},r.mulScalar=function(e,r,t){return(t=t||new n(3))[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t},r.multiply=function(e,r,t){return(t=t||new n(3))[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t},r.negate=function(e,r){return(r=r||new n(3))[0]=-e[0],r[1]=-e[1],r[2]=-e[2],r},r.normalize=function(e,r){r=r||new n(3);var t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],o=Math.sqrt(t);o>1e-5?(r[0]=e[0]/o,r[1]=e[1]/o,r[2]=e[2]/o):(r[0]=0,r[1]=0,r[2]=0);return r},r.setDefaultType=function(e){var r=n;return n=e,r},r.subtract=function(e,r,t){return(t=t||new n(3))[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t};var n=Float32Array},"./src/vertex-arrays.js":
/*!******************************!*\
  !*** ./src/vertex-arrays.js ***!
  \******************************/
/*! no static exports found */function(e,r,t){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r.__esModule=!0,r.createVertexArrayInfo=function(e,r,t){var n=e.createVertexArray();e.bindVertexArray(n),r.length||(r=[r]);return r.forEach((function(r){o.setBuffersAndAttributes(e,r,t)})),e.bindVertexArray(null),{numElements:t.numElements,elementType:t.elementType,vertexArrayObject:n}},r.createVAOAndSetAttributes=u,r.createVAOFromBufferInfo=function(e,r,t){return u(e,r.attribSetters||r,t.attribs,t.indices)};var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=a();if(r&&r.has(e))return r.get(e);var t={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(t,i,u):t[i]=e[i]}t.default=e,r&&r.set(e,t);return t}(t(/*! ./programs.js */"./src/programs.js"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}var i=34963;function u(e,r,t,n){var a=e.createVertexArray();return e.bindVertexArray(a),o.setAttributes(r,t),n&&e.bindBuffer(i,n),e.bindVertexArray(null),a}}})}));
//# sourceMappingURL=/sm/218569bbe46ddcaf97a95f7eb6f4f1c2a46aa6fb6c2057c3be2c54a23939f8fa.map